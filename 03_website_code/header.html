<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header Component Preview</title>

    <!-- Google Fonts: Cormorant Garamond + Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* 
           1. Core Variables & Utilities 
           (Extracted from global styles for self-containment)
        */
        :root {
            /* Brand Colors */
            --bs-primary: #B08968;
            --bs-primary-hover: #9A7759;
            --bs-primary-active: #85674D;
            --bs-secondary: #5A5A5A;
            --bs-dark: #2D2D2D;
            --bs-light: #F8F8F8;
            --bs-text-secondary: #6B6B6B;

            /* Typography */
            --font-serif: 'Cormorant Garamond', serif;
            --font-sans: 'Inter', sans-serif;

            /* Navbar Dimensions */
            --navbar-height: 80px;
            --navbar-scrolled-height: 70px;
        }

        body {
            /* Visual help for header preview since it is fixed/transparent */
            background-color: #333;
            min-height: 100vh;
        }

        .font-serif {
            font-family: var(--font-serif);
        }

        .text-primary {
            color: var(--bs-primary) !important;
        }

        .text-secondary-custom {
            color: var(--bs-text-secondary);
        }

        /* 
           2. Button Overrides 
           (Used in Navbar & Mega Menu)
        */
        .btn-primary {
            background-color: var(--bs-primary);
            border: none;
            font-family: var(--font-sans);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.875rem;
            border-radius: 4px;
            box-shadow: 0 4px 14px 0 rgba(176, 137, 104, 0.35);
            padding: 0.75rem 1.5rem;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }

        .btn-primary:hover {
            background-color: var(--bs-primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(176, 137, 104, 0.25);
        }

        .btn-primary:active {
            background-color: var(--bs-primary-active);
            transform: translateY(0);
        }

        .btn-outline-dark {
            background: transparent;
            border: 1px solid var(--bs-dark);
            color: var(--bs-dark);
            font-family: var(--font-sans);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.875rem;
            border-radius: 4px;
            padding: 0.75rem 1.5rem;
            transition: all 0.2s ease;
        }

        .btn-outline-dark:hover {
            background-color: var(--bs-dark);
            color: #fff;
        }

        /* 
           3. Navbar Specific Styles 
        */
        .navbar {
            height: var(--navbar-height);
            transition: all 0.3s ease;
            background-color: transparent;
            padding-top: 0;
            padding-bottom: 0;
        }

        .navbar-brand img {
            height: 90px;
            width: auto;
            transition: all 0.3s ease;
        }

        /* Scrolled State */
        .navbar-scrolled {
            background-color: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            height: var(--navbar-scrolled-height);
        }

        /* Nav Links */
        .navbar-nav .nav-link {
            font-family: var(--font-sans);
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--bs-light);
            /* Default light for dark bg preview */
            padding: 0.5rem 1rem !important;
            transition: color 0.2s ease;
            position: relative;
        }

        /* Adjustment for preview: when navbar is transparent, use light text because bg is dark.
           In real site, hero bg is light so text is dark. 
           But let's stick to original logic: .navbar-transparent -> text-dark?
           Wait, in home.html: 
             .navbar-nav .nav-link { color: var(--bs-dark); }
           So originally it expects a light background.
           I will change body bg to white to match original context.
        */
        body {
            background-color: #e0e0e0;
            /* Gray bg to see the transparent navbar */
            background-image: linear-gradient(90deg, rgba(248, 248, 248, 1) 30%, rgba(248, 248, 248, 0.8) 50%, rgba(248, 248, 248, 0) 100%);
        }

        /* Reverting link color to original logic */
        .navbar-nav .nav-link {
            color: var(--bs-dark);
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            color: var(--bs-primary);
        }

        /* Scrolled State Links */
        .navbar-scrolled .navbar-nav .nav-link {
            color: var(--bs-dark);
        }

        .navbar-scrolled .navbar-nav .nav-link:hover,
        .navbar-scrolled .navbar-nav .nav-link.active {
            color: var(--bs-primary);
        }

        /* Dropdown/Mega Menu Chevron */
        .dropdown-toggle::after {
            display: inline-block;
            margin-left: 0.255em;
            vertical-align: 0.1em;
            content: "";
            border-top: 0.3em solid;
            border-right: 0.3em solid transparent;
            border-bottom: 0;
            border-left: 0.3em solid transparent;
            transition: transform 0.2s ease;
        }

        .show>.dropdown-toggle::after {
            transform: rotate(180deg);
        }

        /* Mega Menu container */
        .navbar .dropdown-menu {
            border: none;
            border-radius: 0 0 4px 4px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 0;
            margin-top: 0;
            overflow: visible;
            display: none;
        }

        /* Ensure Mega Menu is full width on desktop */
        @media (min-width: 992px) {
            .navbar .dropdown.position-static {
                position: static !important;
            }

            .navbar .nav-link {
                position: relative;
                z-index: 1100;
            }

            .navbar .dropdown-menu.mega-menu {
                width: 100%;
                left: 0;
                right: 0;
                top: 100%;
                border-top: 1px solid #f0f0f0;
            }

            .navbar .dropdown-menu.mega-menu::before {
                content: '';
                position: absolute;
                top: -30px;
                left: 0;
                width: 100%;
                height: 30px;
                background: transparent;
            }

            /* Show on hover via CSS as fallback/assist to JS */
            .navbar .dropdown:hover .dropdown-menu,
            .navbar .dropdown .dropdown-menu:hover {
                display: block;
                animation: fadeInUp 0.2s ease-out forwards;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mega Menu Content */
        .mega-menu-content {
            padding: 2rem 0;
            background: #fff;
        }

        .mega-menu-header {
            font-family: var(--font-sans);
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--bs-text-secondary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }

        .mega-menu-link {
            display: block;
            padding: 0.5rem 0;
            color: var(--bs-dark);
            text-decoration: none;
            font-family: var(--font-sans);
            font-size: 0.9375rem;
            transition: color 0.15s ease, transform 0.15s ease;
        }

        .mega-menu-link:hover {
            color: var(--bs-primary);
            transform: translateX(4px);
        }

        .mega-menu-link .count {
            color: var(--bs-text-secondary);
            font-size: 0.75rem;
            margin-left: 0.25rem;
        }

        /* Featured Product in Menu */
        .menu-product-card {
            text-decoration: none;
            display: block;
            margin-bottom: 1rem;
        }

        .menu-product-img {
            width: 100%;
            aspect-ratio: 1;
            background: #f8f8f8;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.75rem;
        }

        .menu-product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .menu-product-card:hover .menu-product-img img {
            transform: scale(1.05);
        }

        .menu-product-title {
            font-family: var(--font-serif);
            font-weight: 600;
            color: var(--bs-dark);
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .menu-product-card:hover .menu-product-title {
            color: var(--bs-primary);
        }

        /* Mobile Navbar overrides */
        @media (max-width: 991.98px) {
            .navbar {
                background-color: #fff;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            }

            .navbar-nav .nav-link {
                color: var(--bs-dark);
                padding: 1rem 0 !important;
                border-bottom: 1px solid #f8f8f8;
            }

            .navbar-brand img {
                filter: none !important;
            }

            .navbar-toggler {
                border: none;
                padding: 0;
            }

            .navbar-toggler:focus {
                box-shadow: none;
            }

            .dropdown-menu {
                box-shadow: none;
                padding-left: 1rem;
                background-color: #f9f9f9;
            }
        }

        /* Color handling for Transparent/Scrolled states */
        .navbar-scrolled .navbar-brand-logo-light {
            display: none;
        }

        /* Default: Show Dark Logo */
        .navbar:not(.navbar-scrolled) .navbar-brand-logo-dark {
            display: block;
        }

        .navbar:not(.navbar-scrolled) .navbar-brand-logo-light {
            display: none;
        }

        .navbar:not(.navbar-scrolled) .navbar-toggler-icon-custom {
            color: var(--bs-dark);
        }

        .navbar-scrolled .navbar-toggler-icon-custom {
            color: var(--bs-dark);
        }

        /* Force dark toggler on mobile view regardless of scroll */
        @media (max-width: 991.98px) {
            .navbar:not(.navbar-scrolled) .navbar-brand-logo-dark {
                display: block;
            }

            .navbar:not(.navbar-scrolled) .navbar-brand-logo-light {
                display: none;
            }

            .navbar:not(.navbar-scrolled) .navbar-toggler-icon-custom {
                color: var(--bs-dark);
            }
        }
    </style>
</head>

<body>

    <!-- Module 0: Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-transparent" id="mainNavbar">
        <div class="container">
            <!-- Brand Logo -->
            <a class="navbar-brand d-flex align-items-center" href="home.html">
                <!-- 服务器上使用 margin-right: -15px; -->
                <img src="assets/images/logo/logo_black.png" alt="YUSU Logo" class="d-inline-block"
                    style="height: 48px; width: auto; margin-right: -5px;">
                <div class="d-flex flex-column">
                    <span class="font-serif fw-bold text-dark fs-4 lh-1" style="letter-spacing: 0.05em;">YUSU</span>
                    <span class="font-serif text-secondary-custom font-sans fw-medium"
                        style="font-size: 1rem; color: black;">宇塑包装</span>
                </div>
            </a>

            <!-- Mobile Toggle -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <i data-lucide="menu" class="navbar-toggler-icon-custom"></i>
            </button>

            <!-- Nav Content -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0 gap-4">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="home.html">Home</a>
                    </li>
                    <!-- Products Mega Menu -->
                    <li class="nav-item dropdown position-static">
                        <a class="nav-link dropdown-toggle" href="products.html" id="productsDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Products
                        </a>
                        <!-- Mega Menu Container -->
                        <div class="dropdown-menu mega-menu shadow-lg" aria-labelledby="productsDropdown">
                            <div class="container mega-menu-content">
                                <div class="row">
                                    <!-- Left Column: Signature Originals -->
                                    <div class="col-lg-7 border-end pe-lg-5">
                                        <div class="d-flex justify-content-between align-items-center mb-4">
                                            <div class="mega-menu-header mb-0 border-0 p-0 text-primary">★ Signature
                                                Originals</div>
                                            <a href="products.html?filter=ip-protected"
                                                class="text-secondary-custom text-decoration-none small">
                                                View All Originals <i data-lucide="arrow-right"
                                                    style="width: 12px; height: 12px; vertical-align: middle;"></i>
                                            </a>
                                        </div>

                                        <div class="row g-4">
                                            <!-- Product 1 -->
                                            <div class="col-4">
                                                <a href="product-detail.html" class="menu-product-card">
                                                    <div class="menu-product-img">
                                                        <img src="assets/images/products/B-AP40.png"
                                                            alt="Gold Bar Bottle">
                                                    </div>
                                                    <div class="menu-product-title">
                                                        B-AP40 <i data-lucide="lock"
                                                            style="width: 12px; height: 12px; color: var(--bs-primary)"></i>
                                                    </div>
                                                    <div class="small text-muted">30ml · Foundation Bottles</div>
                                                </a>
                                            </div>
                                            <!-- Product 2 -->
                                            <div class="col-4">
                                                <a href="product-detail.html" class="menu-product-card">
                                                    <div class="menu-product-img">
                                                        <img src="assets/images/products/A-BE23.png" alt="Plum Blossom">
                                                    </div>
                                                    <div class="menu-product-title">
                                                        A-BE23 <i data-lucide="lock"
                                                            style="width: 12px; height: 12px; color: var(--bs-primary)"></i>
                                                    </div>
                                                    <div class="small text-muted">30ml · Foundation Bottles</div>
                                                </a>
                                            </div>
                                            <!-- Product 3 -->
                                            <div class="col-4">
                                                <a href="product-detail.html" class="menu-product-card">
                                                    <div class="menu-product-img">
                                                        <img src="assets/images/products/B-AP37.png" alt="Chamfered">
                                                    </div>
                                                    <div class="menu-product-title">
                                                        B-AP37 <i data-lucide="lock"
                                                            style="width: 12px; height: 12px; color: var(--bs-primary)"></i>
                                                    </div>
                                                    <div class="small text-muted">30ml · Foundation Bottles</div>
                                                </a>
                                            </div>
                                        </div>

                                        <div class="mt-3 p-2 bg-light rounded text-center small text-secondary-custom">
                                            <i data-lucide="shield-check"
                                                style="width: 14px; height: 14px; margin-right: 4px;"></i>
                                            All designs above are exclusive IP-protected originals by YUSU.
                                        </div>
                                    </div>

                                    <!-- Right Column: Categories -->
                                    <div class="col-lg-5 ps-lg-5">
                                        <div class="mega-menu-header">By Category</div>
                                        <div class="row">
                                            <div class="col-6">
                                                <a href="product-detail.html" class="mega-menu-link">
                                                    ✨ YUSU Originals <span class="count">50+</span>
                                                </a>
                                                <a href="product-detail.html" class="mega-menu-link">
                                                    Face Packaging <span class="count">30+</span>
                                                </a>
                                                <a href="product-detail.html" class="mega-menu-link">
                                                    Lip Packaging <span class="count">25+</span>
                                                </a>
                                            </div>
                                            <div class="col-6">
                                                <a href="product-detail.html" class="mega-menu-link">
                                                    Skincare Packaging <span class="count">40+</span>
                                                </a>
                                                <a href="product-detail.html" class="mega-menu-link">
                                                    Sun Protection <span class="count">20+</span>
                                                </a>
                                                <a href="product-detail.html" class="mega-menu-link">
                                                    Eye Packaging <span class="count">15+</span>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="mt-4">
                                            <a href="products.html" class="btn btn-outline-dark btn-sm w-100">
                                                Browse Full Catalog
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="innovation.html">Innovation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="services.html">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About</a>
                    </li>

                    <!-- Resources Dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="resourcesDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Resources
                        </a>
                        <ul class="dropdown-menu border-0 shadow-lg p-2" aria-labelledby="resourcesDropdown"
                            style="min-width: 200px; border-radius: 4px; margin-top: 0;">
                            <li><a class="dropdown-item py-2 rounded" href="blog.html">
                                    <i data-lucide="file-text"
                                        style="width: 16px; height: 16px; margin-right: 8px;"></i> Blog & Insights
                                </a></li>
                            <li><a class="dropdown-item py-2 rounded" href="faq.html">
                                    <i data-lucide="help-circle"
                                        style="width: 16px; height: 16px; margin-right: 8px;"></i> FAQ
                                </a></li>
                        </ul>
                    </li>

                    <li class="nav-item d-lg-none">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>

                <!-- Right CTA -->
                <div class="d-none d-lg-flex align-items-center gap-3">
                    <a href="contact.html" class="btn btn-primary">
                        Get a Quote
                    </a>
                </div>
            </div>
        </div>
    </nav>
    <div style="height: 200vh;"><!-- Spacer to allow scrolling --></div>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Navbar Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize Lucide Icons
            lucide.createIcons();

            // 0. Active Link Highlighting
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.navbar-nav .nav-link');

            navLinks.forEach(link => {
                link.classList.remove('active'); // Remove any hardcoded active class

                const href = link.getAttribute('href');
                if (!href || href === '#') return;

                const hrefClean = href.replace(/^\//, '').replace(/\.html$/, '');
                const pathClean = currentPath.split('/').pop().replace(/\.html$/, '');

                if (pathClean === hrefClean) {
                    link.classList.add('active');
                } else if (hrefClean !== '' && hrefClean !== 'home' && currentPath.includes(hrefClean)) {
                    link.classList.add('active');
                }
            });

            // 1. Sticky Navbar Logic
            const navbar = document.getElementById('mainNavbar');

            function updateNavbarStyle() {
                if (window.scrollY > 20) {
                    navbar.classList.add('navbar-scrolled');
                    navbar.classList.remove('navbar-transparent');
                } else {
                    navbar.classList.remove('navbar-scrolled');
                    navbar.classList.add('navbar-transparent');
                }
            }

            // Initial check and event listener
            if (navbar) {
                updateNavbarStyle();
                window.addEventListener('scroll', updateNavbarStyle);
            }

            // 2. Desktop Dropdown Hover Interaction
            if (window.matchMedia('(min-width: 992px)').matches) {
                const dropdowns = document.querySelectorAll('.nav-item.dropdown');

                dropdowns.forEach(dropdown => {
                    dropdown.addEventListener('mouseenter', function () {
                        const toggle = this.querySelector('.dropdown-toggle');
                        const menu = this.querySelector('.dropdown-menu');
                        if (toggle && menu) {
                            toggle.classList.add('show');
                            toggle.setAttribute('aria-expanded', 'true');
                            menu.classList.add('show');
                        }
                    });

                    dropdown.addEventListener('mouseleave', function () {
                        const toggle = this.querySelector('.dropdown-toggle');
                        const menu = this.querySelector('.dropdown-menu');
                        if (toggle && menu) {
                            toggle.classList.remove('show');
                            toggle.setAttribute('aria-expanded', 'false');
                            menu.classList.remove('show');
                        }
                    });
                });
            }
        });
    </script>
</body>

</html>